# 新規カメラブランド検証チェックリスト

## カメラ基本情報

| 項目 | 内容 |
|------|------|
| ブランド名 | |
| モデル名 | |
| MACアドレス | |
| OUIベンダー | |
| IPアドレス | |
| 管理アプリ | |
| 検証日 | |
| 検証者 | |

---

## Phase 1: 事前情報収集

- [ ] 製品パッケージ/マニュアルから基本情報確認
- [ ] MACアドレス取得
- [ ] 管理アプリでの認証情報確認
- [ ] ネット上の技術情報調査
  - [ ] iSpyConnect
  - [ ] Camlytics
  - [ ] Home Assistant Community
  - [ ] Reddit/Frigate
- [ ] 調査結果のドキュメント作成

---

## Phase 2: 基本接続テスト

### ポートスキャン

- [ ] nmapでポートスキャン実行
- [ ] 開いているポートを記録

| ポート | 状態 | 用途 |
|--------|------|------|
| 80 | | HTTP |
| 443 | | HTTPS |
| 554 | | RTSP |
| 2020 | | ONVIF |
| 8899 | | ONVIF(NVT系) |
| その他 | | |

### OUI調査

- [ ] OUIプレフィックス確認: `__:__:__`
- [ ] ベンダー名:
- [ ] camera_brands/oui_entriesへの登録候補判定

### ONVIF接続

- [ ] ONVIFポート特定: ポート____
- [ ] GetDeviceInformation取得

| 項目 | 値 |
|------|-----|
| Manufacturer | |
| Model | |
| FirmwareVersion | |
| HardwareId | |
| SerialNumber | |

- [ ] 認証の要否: □ 不要 □ 必要

### RTSP接続

- [ ] メインストリームパス特定:
- [ ] サブストリームパス特定:
- [ ] 認証方式: □ Basic □ Digest
- [ ] ユーザー名の大文字小文字確認

| ストリーム | パス | 解像度 | コーデック | FPS |
|-----------|------|--------|-----------|-----|
| メイン | | | | |
| サブ | | | | |

---

## Phase 3: ストレステスト

### 再接続テスト

| インターバル | 成功数 | 成功率 | 判定 |
|-------------|--------|--------|------|
| 0秒（急速） | /20 | % | □ OK □ NG |
| 0.5秒 | /10 | % | □ OK □ NG |
| 1秒 | /10 | % | □ OK □ NG |
| 2秒 | /10 | % | □ OK □ NG |

**推奨最小インターバル**: ____ms

### 並列接続テスト

| 並列数 | 結果 | 判定 |
|--------|------|------|
| 2 | /6 | □ 安定 □ 不安定 |
| 3 | /9 | □ 安定 □ 不安定 |
| 5 | /15 | □ 安定 □ 不安定 |

**推奨最大並列数**: ____

### Main + Sub 同時テスト

| 試行 | Main | Sub | 結果 |
|------|------|-----|------|
| 1 | □ OK □ NG | □ OK □ NG | |
| 2 | □ OK □ NG | □ OK □ NG | |
| 3 | □ OK □ NG | □ OK □ NG | |

**Main+Sub同時**: □ 可能 □ 不可能

### 長時間ストリームテスト

- [ ] 30秒ストリーム: □ 成功 □ 失敗
- [ ] フレーム数: ____
- [ ] 平均FPS: ____
- [ ] 警告/エラー:

### ONVIF負荷テスト

- [ ] 急速リクエスト20回: ____/20
- [ ] ONVIF安定性: □ 安定 □ 要認証 □ 不安定

### HTTP負荷テスト

- [ ] 急速リクエスト20回: ____/20

---

## Phase 4: 結果分析・設定値決定

### Access Absorber推奨設定

| パラメータ | 値 | 根拠 |
|-----------|-----|------|
| family | | ONVIF Manufacturer or OUI |
| display_name | | |
| max_concurrent_streams | | 並列テスト結果より |
| min_reconnect_interval_ms | | 再接続テスト結果より |
| require_exclusive_lock | □ TRUE □ FALSE | max=1ならTRUE |

### RTSPテンプレート

| 項目 | 値 |
|------|-----|
| main_path | |
| sub_path | |
| default_port | 554 |

### go2rtcプロキシ

- [ ] 必要: □ はい □ いいえ
- [ ] 理由:

---

## Phase 5: ドキュメント作成

- [ ] STRESS_TEST_REPORT.md 作成
- [ ] camBrand/{BrandName}/ ディレクトリ作成
- [ ] DB投入SQL作成
- [ ] （必要に応じて）ブランド統合提案書作成

---

## 最終確認

- [ ] 全テスト項目を実施
- [ ] 推奨設定値を決定
- [ ] ドキュメント作成完了
- [ ] レビュー依頼

**検証完了日**: ____年____月____日

**承認者**: ____________________
