AI Event Log
## 表示関連
1. 現在カメラ名と検知結果が出ている行に余裕があってもカメラ名が省略される。このせいでカメラ名がわからない
2. 丸数字の意味がわからない。少なくともカメラ名は長かったら省略されること、この丸数字の意味はマウスホバーでヒント表示すべき
3. アイコンがひどくみづらい。これは背景色を中間色にまとめているせい。
   そもそも背景色と文字色は
   - 人検知=黄色( #ffff00)文字#222222※オペレーション的には最重要なので目立つ色
   - 車両検知=青([#6495ED)文字#FFFFFF※わかる必要はあるが人検知とは明確に区別したい。
   - 異常検知=赤(ff0000)文字#FFFF00※とにかく危険な印象
   - 不明=薄いグレー(#d3d3d3) 文字#222222※曖昧な中間色で構成
   - カメラロスト=濃いグレー(#333333) 文字#FFFFFF※ブラックアウトした感じを出す
   - カメラ復帰=白(FFFFFF)文字#444444※実際にはほぼ意味のない通知なので目立たないけどわかるくらい

	の指定であったが守られていない。これはシンプルな問題なので早急に解決すべきである。

## AI判定について
1. これは様々な問題が絡み合っていて複雑なのでここではまずis21とis22の評価方法、評価基準、レスポンスの内容などについて詳細に解説してください。その後に詳細な調整にすすみます。必ずエビデンスをつけてプリセットが明確に働いているか、直近画像を二枚送って差分査定をおこなっているかを解説してください。
2. 現在の状態としては画面を確認すればわかりますがイベントログに
```
   `Toj 1FEVThuman (1)

17:36:39

3

50%

carry.bag

outfit.pants

count.single

appearance.uniform_like
```
となっていても実際には手ぶらの施設スタッフなのでもう少し精度向上を検討する必要はあります。
検出速度などは問題を感じてませんがこれが"まともに推論していないことによる高速反応"であるなら大きな問題。is21の動作状態の監視も必要です。
- また、unknown判定に関して元々"何もない"なら画像の保存もログも出さない仕様のはずですがunknownに関しては画像保存の対象なのでunknown乱発によって画像の保存ストーム状態になっておりストレージが無限に肥大化するループになってませんか？画像の保存に関してストレージのクォータを設定モーダルに"最大保存容量"などの設定を設けてユーザーの裁量範疇で画像の保存を行う仕様になってますか？
- そもそもunknown判定自体に誤りはありませんか？現在unknownの項目に関しては保存画像が見えません。そのため単純に正常に画像を送信できていないカメラがある。
- 推測でしかないが例えば回線品質が悪いからフォールバックでサブストリームで巡回画像を取得しているにも関わらず取得できないメインストリームの画像をAI推論判定材料にしていないか？
- そもそも設定モーダルに推論統計のタブを作成し、推論判定結果と対象のカメラの分布と件数、判定結果の傾向を統計値として分析として提供するインターフェースがあった方が良いのでは
- プリセットと推論結果による結果の変移を分析可能にしないとプリセット変更の効果がエビデンスのないプラセボになるのでどのカメラがそのプリセットで動作していてそのような結果を吐いているかの分析を取得できる仕様にすべき
- そもそもプリセットが適切か
- 現在人検知、車両検知自体は動作しているようである。ai推論としては最低限の動作はしていると思われるが上記がエラーだとするとそれを検知する方法もエラーリカバーの方法もブラックボックスなので検討必要
- 結果が曖昧なAI推論に対してデータの過度な正規化を行なっていないか？DBは正規化されるべきだが応答速度や可用性を考えると過度の正規化は望ましくない。
- 最終的にはAI推論結果の統計から"過度に反応しすぎるカメラ""正しくない判定を行なっているカメラ"の設定値をカメラコンテキストとカメラ名、fid(施設コード)からmobesSystemに保存された施設情報、ridから部屋やリソースの仕様をLLMコンテキストとして連携し宿泊施設や飲食店、美容院、オフィスなどでは予約、来訪者情報との照合を行って動作するシステムである。
- これは同時にLLMでコンテキストベースでカメラの属性を読み込んで調整する"autoAttunement"機能の実装に至る前段階であり、この機能実装が統合されたエラー内容、検出傾向、検出統計、偏差と分布、KPIとフィードバック、同じ人がカメラ間を移動した場合の検出結果の偏差調整(これは同一に近いタイムスタンプで類似の特徴を捉えた場合のベクトル的距離検証必要)による"autoAttunement"の調整用API(LLMおよび人力調整)の機能拡張が必要でありその基本設計ドキュメントの作成と実装予定todoをコード内に組み込んでおく必要性を意味する。

- 今後の詳細実装に関しては詳細な設計が必要としても現況動作が何らかの問題を孕んでいるなら簡易的対応でも先に修正し正常な分析が可能な状態までは即座に対応すべきです。
- このis21,22の正常動作が確定的にならないとLLM連携系の実装に進むことができません。
