# Paraclateå®Ÿè£…ã‚¿ã‚¹ã‚¯é€²æ—ç®¡ç† ãƒã‚¹ã‚¿ãƒ¼ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹

ä½œæˆæ—¥: 2026-01-10
æœ€çµ‚æ›´æ–°: 2026-01-11
ãƒãƒ¼ã‚¸ãƒ§ãƒ³: 2.0.0

---

## æ¦‚è¦

æœ¬ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã¯Paraclateï¼ˆæ—§MobesAIcamControlTowerï¼‰ã®å®Ÿè£…ã‚¿ã‚¹ã‚¯ã‚’ç®¡ç†ã™ã‚‹ãŸã‚ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç¾¤ã‚’æ ¼ç´ã™ã‚‹ã€‚
è¨­è¨ˆãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆï¼ˆDD01-DD05ï¼‰ã«åŸºã¥ãã€MECEã«æ•´ç†ã•ã‚ŒãŸã‚¿ã‚¹ã‚¯ã‚’ãƒ•ã‚§ãƒ¼ã‚ºã”ã¨ã«ç®¡ç†ã™ã‚‹ã€‚

### è¨­è¨ˆãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¨ã®å¯¾å¿œ

| Phase | è©³ç´°è¨­è¨ˆ | ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ« | ä¾å­˜é–¢ä¿‚ | GitHub Issue |
|-------|---------|-----------|---------|-------------|
| Phase 1 | DD01 | AraneaRegister | ãªã—ï¼ˆåŸºç›¤ï¼‰ | #114 |
| Phase 2 | DD05 | CameraRegistry | Phase 1 | #115 |
| Phase 3 | DD02 | Summary/GrandSummary | Phase 2 | #116 |
| Phase 4 | DD03 | ParaclateClient | Phase 1,2,3 | #117 |
| Phase 5 | DD04 | BqSyncService | Phase 3,4 | #118 |
| Phase 6 | DD06,DD07 | IS21 Baseline | Phase 1 | #119 |
| Phase 7 | mobes2.0å›ç­” | mobes2.0çµ±åˆ | Phase 1,4 | #120 |

**è¦ªIssue**: #113

---

## ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆä¸€è¦§

| ãƒ•ã‚¡ã‚¤ãƒ« | å†…å®¹ | ã‚¿ã‚¹ã‚¯æ•° |
|---------|------|---------|
| [Phase1_AraneaRegister.md](./Phase1_AraneaRegister.md) | ãƒ‡ãƒã‚¤ã‚¹ç™»éŒ²ãƒ»èªè¨¼åŸºç›¤ | 7 |
| [Phase2_CameraRegistry.md](./Phase2_CameraRegistry.md) | ã‚«ãƒ¡ãƒ©å°å¸³ç®¡ç† | 7 |
| [Phase3_SummaryGrandSummary.md](./Phase3_SummaryGrandSummary.md) | AIè¦ç´„ç”Ÿæˆãƒ»çµ±åˆ | 8 |
| [Phase4_ParaclateClient.md](./Phase4_ParaclateClient.md) | mobes2.0é€£æºã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ | 7 |
| [Phase5_BqSyncService.md](./Phase5_BqSyncService.md) | BigQueryåŒæœŸ | 7 |
| [Phase6_IS21_Baseline.md](./Phase6_IS21_Baseline.md) | IS21åŸºç›¤ãƒ»æ¨è«–ã‚µãƒ¼ãƒ“ã‚¹ | 9 |
| [Phase5_mobes20_Integration.md](./Phase5_mobes20_Integration.md) | mobes2.0çµ±åˆï¼ˆPhase 7ï¼‰ | 3 |
| [COMPLETENESS_CHECK.md](./COMPLETENESS_CHECK.md) | å®Œå…¨æ€§ãƒã‚§ãƒƒã‚¯çµæœ | - |

---

## å…¨ä½“é€²æ—ã‚µãƒãƒªãƒ¼

### ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹å®šç¾©

| ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ | è¨˜å· | æ„å‘³ |
|-----------|------|------|
| NOT_STARTED | â¬œ | æœªç€æ‰‹ |
| IN_PROGRESS | ğŸ”„ | ä½œæ¥­ä¸­ |
| REVIEW | ğŸ” | ãƒ¬ãƒ“ãƒ¥ãƒ¼å¾…ã¡ |
| COMPLETED | âœ… | å®Œäº† |
| BLOCKED | ğŸš« | ãƒ–ãƒ­ãƒƒã‚¯ä¸­ |

### Phaseåˆ¥é€²æ—

| Phase | é€²æ— | å®Œäº†ã‚¿ã‚¹ã‚¯ | å…¨ã‚¿ã‚¹ã‚¯ | é€²æ—ç‡ |
|-------|------|-----------|---------|-------|
| Phase 1 | âœ… | 7 | 7 | 100% |
| Phase 2 | âœ… | 7 | 7 | 100% |
| Phase 3 | âœ… | 8 | 8 | 100% |
| Phase 4 | âœ… | 7 | 7 | 100% |
| Phase 5 | âœ… | 7 | 7 | 100% |
| Phase 6 | âœ… | 9 | 9 | 100% |
| Phase 7 | âœ… | 3 | 3 | 100% |
| **åˆè¨ˆ** | | **48** | **48** | **100%** |

### Phase 1 ã‚¿ã‚¹ã‚¯è©³ç´°

| ã‚¿ã‚¹ã‚¯ID | ã‚¿ã‚¹ã‚¯å | çŠ¶æ…‹ |
|---------|---------|------|
| T1-1 | ProductTypeå®šç¾© | âœ… COMPLETED |
| T1-2 | ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ«/ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ | âœ… COMPLETED |
| T1-3 | registration.rs ã‚µãƒ¼ãƒ“ã‚¹ | âœ… COMPLETED (E2Eãƒ†ã‚¹ãƒˆå®Œäº†ã€CIC=605123) |
| T1-4 | lacis_oath.rs èªè¨¼æƒ…å ± | âœ… COMPLETED |
| T1-5 | blessing.rsï¼ˆè¶Šå¢ƒã‚¢ã‚¯ã‚»ã‚¹ï¼‰ | âœ… COMPLETED (åŸºæœ¬æ§‹é€ ã€Phase4ã§æ‹¡å¼µ) |
| T1-6 | ç›£æŸ»ãƒ­ã‚° | âœ… COMPLETED |
| T1-7 | å†—é•·åŒ–å¯¾å¿œ | âœ… COMPLETED (è¨­è¨ˆæ¤œè¨¼å®Œäº†) |

### Phase 2 ã‚¿ã‚¹ã‚¯è©³ç´°

| ã‚¿ã‚¹ã‚¯ID | ã‚¿ã‚¹ã‚¯å | çŠ¶æ…‹ |
|---------|---------|------|
| T2-1 | ã‚«ãƒ¡ãƒ©å°å¸³ã‚¹ã‚­ãƒ¼ãƒè¨­è¨ˆãƒ»ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ | âœ… COMPLETED |
| T2-2 | camera_registry.rs ã‚µãƒ¼ãƒ“ã‚¹å®Ÿè£… | âœ… COMPLETED |
| T2-3 | RTSPç®¡ç†é€£æº | âœ… COMPLETED |
| T2-4 | detection_logs.rs æ¤œå‡ºãƒ­ã‚°æ‹¡å¼µ | âœ… COMPLETED |
| T2-5 | ãƒ­ã‚°æ¤œç´¢APIæ‹¡å¼µ | âœ… COMPLETED |
| T2-6 | ã‚«ãƒ¡ãƒ©ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ç®¡ç† | âœ… COMPLETED |
| T2-7 | ã‚«ãƒ¡ãƒ©ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆç®¡ç† | âœ… COMPLETED |

### Phase 3 ã‚¿ã‚¹ã‚¯è©³ç´°

| ã‚¿ã‚¹ã‚¯ID | ã‚¿ã‚¹ã‚¯å | çŠ¶æ…‹ |
|---------|---------|------|
| T3-1 | SummaryOverviewè¨­è¨ˆãƒ»ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ« | âœ… COMPLETED |
| T3-2 | summary_generator.rs å®Ÿè£… | âœ… COMPLETED |
| T3-3 | ai_summary_cache ãƒªãƒã‚¸ãƒˆãƒª | âœ… COMPLETED |
| T3-4 | å®šæ™‚å®Ÿè¡Œã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ© | âœ… COMPLETED |
| T3-5 | Summary APIå®Ÿè£… | âœ… COMPLETED |
| T3-6 | GrandSummaryè¨­è¨ˆ | âœ… COMPLETED |
| T3-7 | grand_summary.rs å®Ÿè£… | âœ… COMPLETED |
| T3-8 | Summaryâ†’GrandSummaryçµ±åˆãƒ†ã‚¹ãƒˆ | âœ… COMPLETED (2026-01-11 E2Eå…¨APIæˆåŠŸ) |

### Phase 4 ã‚¿ã‚¹ã‚¯è©³ç´°

| ã‚¿ã‚¹ã‚¯ID | ã‚¿ã‚¹ã‚¯å | çŠ¶æ…‹ |
|---------|---------|------|
| T4-1 | client.rs HTTPã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ | âœ… COMPLETED (2026-01-10) |
| T4-2 | lacisOathèªè¨¼ãƒ˜ãƒƒãƒ€ | âœ… COMPLETED (2026-01-10) |
| T4-3 | snapshoté€£æºï¼ˆLacisFilesï¼‰ | âœ… COMPLETED (2026-01-11) |
| T4-4 | enqueuer.rs é€ä¿¡ã‚­ãƒ¥ãƒ¼ç®¡ç† | âœ… COMPLETED (2026-01-10) |
| T4-5 | config_sync.rs è¨­å®šåŒæœŸ | âœ… COMPLETED (2026-01-10) |
| T4-6 | ãƒªãƒˆãƒ©ã‚¤ãƒ»offlineå¯¾å¿œ | âœ… COMPLETED (2026-01-10) |
| T4-7 | Pub/Subå—ä¿¡ãƒ•ãƒ­ãƒ¼ | âœ… COMPLETED (2026-01-11) |

### Phase 5 ã‚¿ã‚¹ã‚¯è©³ç´°

| ã‚¿ã‚¹ã‚¯ID | ã‚¿ã‚¹ã‚¯å | çŠ¶æ…‹ |
|---------|---------|------|
| T5-1 | BQãƒ†ãƒ¼ãƒ–ãƒ«å®šç¾©ç¢ºèªãƒ»é€£æºæº–å‚™ | âœ… COMPLETED (2026-01-11) |
| T5-2 | bq_sync.rs ã‚µãƒ¼ãƒ“ã‚¹å®Ÿè£… | âœ… COMPLETED (2026-01-11) |
| T5-3 | ãƒãƒƒãƒåŒæœŸå‡¦ç†ï¼ˆéãƒ–ãƒ­ãƒƒã‚­ãƒ³ã‚°ï¼‰ | âœ… COMPLETED (2026-01-11) |
| T5-4 | synced_to_bqç®¡ç†ãƒ»PKãƒãƒƒãƒ— | âœ… COMPLETED (2026-01-11) |
| T5-5 | å†ªç­‰æ€§ä¿è¨¼ | âœ… COMPLETED (2026-01-11) |
| T5-6 | retentioné€£æº | âœ… COMPLETED (2026-01-11) |
| T5-7 | åŒæœŸãƒ­ã‚°ãƒ»ç›£è¦– | âœ… COMPLETED (2026-01-11) |

### Phase 6 ã‚¿ã‚¹ã‚¯è©³ç´°

| ã‚¿ã‚¹ã‚¯ID | ã‚¿ã‚¹ã‚¯å | çŠ¶æ…‹ |
|---------|---------|------|
| T6-1 | MqttManagerå®Ÿè£… | âœ… COMPLETED |
| T6-2 | StateReporterå®Ÿè£… | âœ… COMPLETED |
| T6-3 | è¨­å®šã‚¹ã‚­ãƒ¼ãƒå®šç¾© | âœ… COMPLETED |
| T6-4 | Web APIåŸºç›¤ | âœ… COMPLETED (æ—¢å­˜main.py) |
| T6-5 | InferenceServiceåŸºæœ¬æ§‹é€  | âœ… COMPLETED (æ—¢å­˜main.py) |
| T6-6 | MQTTã‚³ãƒãƒ³ãƒ‰ãƒãƒ³ãƒ‰ãƒ© | âœ… COMPLETED |
| T6-7 | æ¨è«–APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ | âœ… COMPLETED (/v1/analyze) |
| T6-8 | systemdã‚µãƒ¼ãƒ“ã‚¹è¨­å®š | âœ… COMPLETED |
| T6-9 | çµ±åˆãƒ†ã‚¹ãƒˆ | âœ… COMPLETED (2026-01-11) |

### Phase 7 ã‚¿ã‚¹ã‚¯è©³ç´°ï¼ˆmobes2.0çµ±åˆï¼‰

| ã‚¿ã‚¹ã‚¯ID | ã‚¿ã‚¹ã‚¯å | çŠ¶æ…‹ |
|---------|---------|------|
| T7-1 | IS21ã‚¢ã‚¯ãƒ†ã‚£ãƒ™ãƒ¼ãƒˆï¼ˆaraneaDeviceGateçµŒç”±ï¼‰ | âœ… COMPLETED (2026-01-11) |
| T7-2 | LacisFileså¯¾å¿œï¼ˆsnapshot Base64é€ä¿¡ï¼‰ | âœ… COMPLETED (2026-01-11) |
| T7-3 | ã‚«ãƒ¡ãƒ©ä¸èª¿å ±å‘Šï¼ˆIngestEventæ‹¡å¼µï¼‰ | âœ… COMPLETED (2026-01-11) |

**æ³¨è¨˜**: Phase 7ã¯mobes2.0ãƒãƒ¼ãƒ ã‹ã‚‰ã®SPEC_CONFIRMATION_RESPONSE_2026-01-11.mdã«åŸºã¥ãå®Ÿè£…
- IS21ã‚¢ã‚¯ãƒ†ã‚£ãƒ™ãƒ¼ãƒˆ: araneaDeviceGate APIçµŒç”±
- LacisFiles: Event APIã«snapshotï¼ˆBase64ï¼‰ã‚’é€ä¿¡
- ã‚«ãƒ¡ãƒ©ä¸èª¿: IngestEvent APIã«malfunction_typeå«ã‚ã¦é€ä¿¡
- BQåŒæœŸ: mobes2.0å´ã§è‡ªå‹•å‡¦ç†ã®ãŸã‚IS22å´å¯¾å¿œä¸è¦

---

## è¦ä»¶å®šç¾©ã¨ã®å¯¾å¿œï¼ˆãƒˆãƒ¬ãƒ¼ã‚µãƒ“ãƒªãƒ†ã‚£ï¼‰

### æ©Ÿèƒ½è¦ä»¶ï¼ˆFRï¼‰

| è¦ä»¶ID | è¦ä»¶å | å¯¾å¿œPhase | å¯¾å¿œã‚¿ã‚¹ã‚¯ |
|--------|-------|----------|-----------|
| FR-01 | ãƒ‡ãƒã‚¤ã‚¹ç™»éŒ²ï¼ˆParaclateå¯¾å¿œï¼‰ | Phase 1 | T1-1ã€œT1-7 |
| FR-02 | lacisOathèªè¨¼ | Phase 1 | T1-4, T1-5 |
| FR-03 | ã‚«ãƒ¡ãƒ©å°å¸³ç®¡ç† | Phase 2 | T2-1ã€œT2-7 |
| FR-04 | æ¤œå‡ºãƒ­ã‚°è¨˜éŒ² | Phase 2 | T2-4, T2-5 |
| FR-05 | Summaryç”Ÿæˆ | Phase 3 | T3-1ã€œT3-5 |
| FR-06 | GrandSummaryçµ±åˆ | Phase 3 | T3-6ã€œT3-8 |
| FR-07 | Paraclate Ingest API | Phase 4 | T4-1ã€œT4-4 |
| FR-08 | ConfigåŒæœŸ | Phase 4 | T4-5ã€œT4-7 |
| FR-09 | BigQueryåŒæœŸ | Phase 5 | T5-1ã€œT5-7 |
| FR-10 | ã‚¹ãƒŠãƒƒãƒ—ã‚·ãƒ§ãƒƒãƒˆé€£æº | Phase 4 | T4-3 |
| FR-11 | è¨­å®šå¤‰æ›´é€šçŸ¥ï¼ˆPub/Subï¼‰ | Phase 4 | T4-7 |
| FR-12 | ä¿æŒæœŸé–“ç®¡ç† | Phase 5 | T5-6 |
| FR-13 | è¶Šå¢ƒã‚¢ã‚¯ã‚»ã‚¹ï¼ˆblessingï¼‰ | Phase 1 | T1-5 |

### éæ©Ÿèƒ½è¦ä»¶ï¼ˆNFRï¼‰

| è¦ä»¶ID | è¦ä»¶å | å¯¾å¿œPhase | å¯¾å¿œã‚¿ã‚¹ã‚¯ |
|--------|-------|----------|-----------|
| NFR-01 | SSoTåˆ†æ‹…ï¼ˆãƒ†ãƒŠãƒ³ãƒˆ=mobes/ã‚«ãƒ¡ãƒ©=is22/é•·æœŸ=BQï¼‰ | å…¨Phase | å„Phaseå‚ç…§ |
| NFR-02 | å†—é•·åŒ–å¯¾å¿œï¼ˆis21/is22 2å°æ§‹æˆï¼‰ | Phase 1 | T1-7 |
| NFR-03 | ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹è¦ä»¶ï¼ˆåŒæœŸé…å»¶<5ç§’ï¼‰ | Phase 4,5 | T4-6, T5-3 |
| NFR-04 | ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ï¼ˆlacisOathå¿…é ˆï¼‰ | Phase 1,4 | T1-4, T4-2 |
| NFR-05 | å¯ç”¨æ€§ï¼ˆofflineè€æ€§ï¼‰ | Phase 4 | T4-6 |
| NFR-06 | ç›£æŸ»ãƒ­ã‚° | Phase 1,5 | T1-6, T5-7 |

---

## ä¾å­˜é–¢ä¿‚å›³

```
Phase 1: AraneaRegister
    â”‚
    â”œâ”€â”€ T1-1: ProductTypeå®šç¾©
    â”œâ”€â”€ T1-2: ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ«è¨­è¨ˆ
    â”œâ”€â”€ T1-3: registration.rs
    â”œâ”€â”€ T1-4: lacis_oath.rs
    â”œâ”€â”€ T1-5: blessing.rs
    â”œâ”€â”€ T1-6: ç›£æŸ»ãƒ­ã‚°
    â””â”€â”€ T1-7: å†—é•·åŒ–å¯¾å¿œ
           â”‚
           â–¼
Phase 2: CameraRegistry â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                                      â”‚
    â”œâ”€â”€ T2-1: ã‚«ãƒ¡ãƒ©å°å¸³ã‚¹ã‚­ãƒ¼ãƒ           â”‚
    â”œâ”€â”€ T2-2: camera_registry.rs           â”‚
    â”œâ”€â”€ T2-3: RTSPç®¡ç†é€£æº                 â”‚
    â”œâ”€â”€ T2-4: detection_logs.rs            â”‚
    â”œâ”€â”€ T2-5: ãƒ­ã‚°æ¤œç´¢API                  â”‚
    â”œâ”€â”€ T2-6: ã‚«ãƒ¡ãƒ©ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ç®¡ç†          â”‚
    â””â”€â”€ T2-7: çµ±åˆãƒ†ã‚¹ãƒˆ                   â”‚
           â”‚                               â”‚
           â–¼                               â”‚
Phase 3: Summary/GrandSummary             â”‚
    â”‚                                      â”‚
    â”œâ”€â”€ T3-1: SummaryOverviewè¨­è¨ˆ          â”‚
    â”œâ”€â”€ T3-2: summary_generator.rs         â”‚
    â”œâ”€â”€ T3-3: ai_summary_cache             â”‚
    â”œâ”€â”€ T3-4: å®šæ™‚å®Ÿè¡Œã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ©          â”‚
    â”œâ”€â”€ T3-5: Summary API                  â”‚
    â”œâ”€â”€ T3-6: GrandSummaryè¨­è¨ˆ             â”‚
    â”œâ”€â”€ T3-7: grand_summary.rs             â”‚
    â””â”€â”€ T3-8: Summaryâ†’GrandSummaryçµ±åˆ     â”‚
           â”‚                               â”‚
           â–¼                               â–¼
Phase 4: ParaclateClient â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    â”‚
    â”œâ”€â”€ T4-1: client.rsï¼ˆHTTPé€ä¿¡ï¼‰
    â”œâ”€â”€ T4-2: lacisOathèªè¨¼ãƒ˜ãƒƒãƒ€
    â”œâ”€â”€ T4-3: snapshoté€£æº
    â”œâ”€â”€ T4-4: enqueuer.rs
    â”œâ”€â”€ T4-5: config_sync.rs
    â”œâ”€â”€ T4-6: ãƒªãƒˆãƒ©ã‚¤ãƒ»offlineå¯¾å¿œ
    â””â”€â”€ T4-7: Pub/Subå—ä¿¡
           â”‚
           â–¼
Phase 5: BqSyncService
    â”‚
    â”œâ”€â”€ T5-1: BQãƒ†ãƒ¼ãƒ–ãƒ«å®šç¾©
    â”œâ”€â”€ T5-2: bq_sync.rs
    â”œâ”€â”€ T5-3: ãƒãƒƒãƒåŒæœŸ
    â”œâ”€â”€ T5-4: synced_to_bqç®¡ç†
    â”œâ”€â”€ T5-5: å†ªç­‰æ€§ä¿è¨¼
    â”œâ”€â”€ T5-6: retentioné€£æº
    â””â”€â”€ T5-7: åŒæœŸãƒ­ã‚°ãƒ»ç›£è¦–
```

---

## ã‚¯ãƒªãƒ†ã‚£ã‚«ãƒ«ãƒ‘ã‚¹

```
T1-1 â†’ T1-2 â†’ T1-3 â†’ T2-1 â†’ T2-2 â†’ T3-1 â†’ T3-2 â†’ T4-1 â†’ T4-4 â†’ T5-1 â†’ T5-2
 â”‚                      â”‚                    â”‚
 â””â”€â”€ T1-4 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€ T4-2 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     (lacisOath)           (èªè¨¼ãƒ˜ãƒƒãƒ€)
```

---

## ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³

| ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³ | Phase | å®Œäº†æ¡ä»¶ |
|--------------|-------|---------|
| M1: åŸºç›¤å®Œæˆ | Phase 1å®Œäº† | ãƒ‡ãƒã‚¤ã‚¹ç™»éŒ²ãƒ»èªè¨¼ãŒå‹•ä½œ |
| M2: ã‚«ãƒ¡ãƒ©å°å¸³ | Phase 2å®Œäº† | ã‚«ãƒ¡ãƒ©ç™»éŒ²ãƒ»æ¤œå‡ºãƒ­ã‚°è¨˜éŒ²ãŒå‹•ä½œ |
| M3: AIè¦ç´„ | Phase 3å®Œäº† | Summary/GrandSummaryç”ŸæˆãŒå‹•ä½œ |
| M4: mobesé€£æº | Phase 4å®Œäº† | Ingest APIé€ä¿¡ãƒ»ConfigåŒæœŸãŒå‹•ä½œ |
| M5: BQé€£æº | Phase 5å®Œäº† | BigQueryåŒæœŸãŒå‹•ä½œ |
| M6: E2Eå®Œäº† | E1-E7å®Œäº† | å…¨E2Eãƒ†ã‚¹ãƒˆãƒ‘ã‚¹ |

---

## E2Eãƒ†ã‚¹ãƒˆãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

| ãƒ†ã‚¹ãƒˆID | ãƒ†ã‚¹ãƒˆå†…å®¹ | å¯¾å¿œPhase |
|---------|----------|----------|
| E1 | ãƒ‡ãƒã‚¤ã‚¹ç™»éŒ²â†’å°å¸³åæ˜  | Phase 1,2 |
| E2 | ã‚«ãƒ¡ãƒ©æ¤œå‡ºâ†’ãƒ­ã‚°è¨˜éŒ²â†’Summaryç”Ÿæˆ | Phase 2,3 |
| E3 | Summaryâ†’Paraclateé€ä¿¡â†’BQåŒæœŸ | Phase 3,4,5 |
| E4 | Configå¤‰æ›´â†’Pub/Subâ†’is22åŒæœŸ | Phase 4 |
| E5 | Offlineâ†’å†æ¥ç¶šâ†’ã‚­ãƒ¥ãƒ¼é€ä¿¡ | Phase 4 |
| E6 | è¶Šå¢ƒã‚¢ã‚¯ã‚»ã‚¹ï¼ˆblessingï¼‰ãƒ†ã‚¹ãƒˆ | Phase 1,4 |
| E7 | Retentionå®Ÿè¡Œâ†’BQ/ãƒ­ãƒ¼ã‚«ãƒ«å‰Šé™¤ | Phase 5 |

---

## IS22-mobes2.0 E2Eãƒ†ã‚¹ãƒˆçµæœï¼ˆ2026-01-11å®Ÿæ–½ï¼‰

### ãƒ†ã‚¹ãƒˆç’°å¢ƒ

| é …ç›® | å€¤ |
|------|-----|
| IS22ã‚µãƒ¼ãƒãƒ¼ | 192.168.125.246:8080 |
| ãƒ†ã‚¹ãƒˆç”¨LacisID | 3022E051D815448B0001 |
| ãƒ†ã‚¹ãƒˆç”¨TID | T2025120621041161827 |
| ãƒ†ã‚¹ãƒˆç”¨CIC | 605123 |
| ãƒ†ã‚¹ãƒˆç”¨FID | 0099 |

### mobes2.0 Cloud Run ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ

| API | URL |
|-----|-----|
| Connect | https://paraclateconnect-vm44u3kpua-an.a.run.app |
| IngestSummary | https://paraclateingestsummary-vm44u3kpua-an.a.run.app |
| IngestEvent | https://paraclateingestevent-vm44u3kpua-an.a.run.app |
| GetConfig | https://paraclategetconfig-vm44u3kpua-an.a.run.app/config/{tid}?fid={fid} |

### èªè¨¼å½¢å¼

```
Authorization: LacisOath <base64-encoded-json>

JSONæ§‹é€ :
{
  "lacisId": "...",
  "tid": "...",
  "cic": "...",
  "timestamp": "<ISO8601>"
}
```

### ãƒ†ã‚¹ãƒˆçµæœ

| ãƒ†ã‚¹ãƒˆID | å†…å®¹ | çµæœ | å‚™è€ƒ |
|---------|------|------|------|
| T-CONN | Connect API | âœ… SUCCESS | åˆå›æ¥ç¶šæˆåŠŸ |
| T-SUM | IngestSummary API | âœ… SUCCESS | ãƒšã‚¤ãƒ­ãƒ¼ãƒ‰å½¢å¼ä¿®æ­£å¾ŒæˆåŠŸ |
| T-EVT | IngestEvent API | âœ… SUCCESS | æ­£å¸¸å—ä»˜ |
| T-CFG | GetConfig API | âœ… SUCCESS | ãƒ‘ã‚¹ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿å½¢å¼ä¿®æ­£å¾ŒæˆåŠŸ |
| T-ERR-1 | èªè¨¼ãªã—ãƒ†ã‚¹ãƒˆ | âœ… EXPECTED | AUTH_FAILEDæ­£å¸¸è¿”å´ |

### è¿½åŠ ãƒ†ã‚¹ãƒˆçµæœï¼ˆFID=0150ï¼‰

| ãƒ†ã‚¹ãƒˆID | å†…å®¹ | çµæœ | å‚™è€ƒ |
|---------|------|------|------|
| T-CONN-150 | Connect API (FID=0150) | âœ… SUCCESS | `{"connected":true,"configId":1}` |
| T-SUM-150 | IngestSummary API | âœ… SUCCESS | `{"success":true,"summaryId":"sum_is22_test_001"}` |
| T-EVT-150 | IngestEvent API | âœ… SUCCESS | `{"success":true,"eventId":"det_evt_is22_test_001"}` |
| T-CFG-150 | GetConfig API | âœ… SUCCESS | `{"success":true,"config":{...},"resolvedFrom":"hardcoded"}` |

### ã‚³ãƒ¼ãƒ‰ä¿®æ­£å†…å®¹

1. **LacisOathèªè¨¼ãƒ˜ãƒƒãƒ€å½¢å¼**
   - æ—§: å€‹åˆ¥ãƒ˜ãƒƒãƒ€ï¼ˆX-Lacis-ID, X-Lacis-TID, X-Lacis-CICï¼‰
   - æ–°: `Authorization: LacisOath <base64-json>`

2. **IngestSummary/Eventãƒšã‚¤ãƒ­ãƒ¼ãƒ‰å½¢å¼**
   ```json
   {
     "fid": "0099",
     "payload": {
       "summary": { "summaryId": "..." },
       "periodStart": "...",
       "periodEnd": "..."
     }
   }
   ```

3. **GetConfig URLãƒ‘ã‚¿ãƒ¼ãƒ³**
   - æ—§: ã‚¯ã‚¨ãƒªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã®ã¿
   - æ–°: `/config/{tid}?fid={fid}` ãƒ‘ã‚¹ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿å½¢å¼

### ä¿®æ­£ãƒ•ã‚¡ã‚¤ãƒ«

| ãƒ•ã‚¡ã‚¤ãƒ« | ä¿®æ­£å†…å®¹ |
|---------|---------|
| `src/paraclate_client/types.rs` | LacisOath.to_headers() - Authorizationå½¢å¼ã«å¤‰æ›´ |
| `src/paraclate_client/client.rs` | mobes2.0ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆå®šæ•°è¿½åŠ ã€ãƒšã‚¤ãƒ­ãƒ¼ãƒ‰ãƒ©ãƒƒãƒ”ãƒ³ã‚° |

---

## é–¢é€£ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

### è¨­è¨ˆãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆï¼ˆ../DetailedDesign/ï¼‰

- [DD01_AraneaRegister.md](../DetailedDesign/DD01_AraneaRegister.md)
- [DD02_SummaryOverview.md](../DetailedDesign/DD02_SummaryOverview.md)
- [DD03_ParaclateClient.md](../DetailedDesign/DD03_ParaclateClient.md)
- [DD04_BqSyncService.md](../DetailedDesign/DD04_BqSyncService.md)
- [DD05_CameraRegistry.md](../DetailedDesign/DD05_CameraRegistry.md)
- [DD06_LinuxCommonModules.md](../DetailedDesign/DD06_LinuxCommonModules.md)
- [DD07_IS21_Baseline.md](../DetailedDesign/DD07_IS21_Baseline.md)
- [CONSISTENCY_CHECK.md](../DetailedDesign/CONSISTENCY_CHECK.md)

### ä¸Šä½ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆï¼ˆ../ï¼‰

- [Paraclate_DesignOverview.md](../Paraclate_DesignOverview.md)
- [Paraclate_RequirementsDefinition.md](../Paraclate_RequirementsDefinition.md)
- [Paraclate_BasicDesign.md](../Paraclate_BasicDesign.md)

---

## æ›´æ–°å±¥æ­´

| æ—¥ä»˜ | ãƒãƒ¼ã‚¸ãƒ§ãƒ³ | æ›´æ–°å†…å®¹ | æ›´æ–°è€… |
|------|-----------|---------|-------|
| 2026-01-10 | 1.0.0 | åˆç‰ˆä½œæˆ | is22è¨­è¨ˆæ‹…å½“ |
| 2026-01-10 | 1.0.1 | Phase 1é€²æ—æ›´æ–°ï¼ˆT1-1ã€œT1-6å®Œäº†ã€T1-5é€²è¡Œä¸­ï¼‰ | Claude |
| 2026-01-10 | 1.0.2 | Typeåä¿®æ­£(aranea_ar-is22/801)ã€Firestoreæœ¬ç•ªç™»éŒ²å®Œäº†ã€ã‚¹ã‚­ãƒ¼ãƒæ¤œè¨¼å®Œäº† | Claude |
| 2026-01-10 | 1.0.3 | **is22ãƒ‡ãƒã‚¤ã‚¹ç™»éŒ²å®Œäº†**ï¼ˆCIC=605123å–å¾—ï¼‰ã€SDK v0.5.5ã§TypeDefinitionä½œæˆã€Rustå®Ÿè£…ãƒŠãƒ¬ãƒƒã‚¸ç™»éŒ² | Claude |
| 2026-01-10 | 1.1.0 | **Phase 1 å®Œäº†**ï¼ˆ7/7ã‚¿ã‚¹ã‚¯ï¼‰ã€IS21 TypeDefinitionä½œæˆã€å…±æœ‰ãƒ©ã‚¤ãƒ–ãƒ©ãƒªè¨­è¨ˆå®Œäº† | Claude |
| 2026-01-10 | 1.2.0 | **Phase 6è¿½åŠ **ï¼ˆIS21 Baselineï¼‰ã€DD06/DD07ä½œæˆã€Linuxå…±é€šãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ä»•æ§˜è¿½åŠ  | Claude |
| 2026-01-10 | 1.3.0 | **Phase 6 å®Ÿè£…å®Œäº†ï¼ˆ8/9ï¼‰**: MqttManager, StateReporter, è¨­å®šã‚¹ã‚­ãƒ¼ãƒ, MQTTãƒãƒ³ãƒ‰ãƒ©å®Ÿè£…ã€‚çµ±åˆãƒ†ã‚¹ãƒˆå¾…ã¡ | Claude |
| 2026-01-10 | 1.4.0 | **Phase 2 å®Œäº†ï¼ˆ7/7ï¼‰**: CameraRegistryå…¨ã‚¿ã‚¹ã‚¯å®Œäº†ã€‚camera_registry module (service, repository, lacis_id, context, ipcam_connector)ã€detection_log_serviceæ‹¡å¼µã€camera_status_trackeræ‹¡å¼µ | Claude |
| 2026-01-10 | 1.5.0 | **Phase 3 é€²è¡Œä¸­ï¼ˆ7/8ï¼‰**: Summary/GrandSummaryå®Ÿè£…å®Œäº†ã€‚summary_service module (types, repository, generator, grand_summary, scheduler, payload_builder)ã€summary_routes.rs APIå®Ÿè£…ã€‚çµ±åˆãƒ†ã‚¹ãƒˆå¾…ã¡ | Claude |
| 2026-01-11 | 1.6.0 | **Phase 4 å®Œäº†ï¼ˆ7/7ï¼‰**: ParaclateClientå…¨ã‚¿ã‚¹ã‚¯å®Œäº†ã€‚paraclate_client module (client, config_sync, pubsub_subscriber, repository, types)ã€paraclate_routes.rs APIå®Ÿè£…ã€Pub/Subé€šçŸ¥å—ä¿¡ãƒ•ãƒ­ãƒ¼å®Ÿè£…ã€‚**é‡å¤§Issue #119**: ãƒ†ãƒŠãƒ³ãƒˆ-FIDæ‰€å±æ¤œè¨¼æœªå®Ÿè£…ã‚’ç™ºè¡Œ | Claude |
| 2026-01-11 | 1.7.0 | **IS22-mobes2.0 E2Eãƒ†ã‚¹ãƒˆå®Œäº†**: å…¨APIæ­£å¸¸å‹•ä½œç¢ºèªã€‚LacisOathèªè¨¼å½¢å¼ã‚’`Authorization: LacisOath <base64-json>`ã«å¤‰æ›´ã€ãƒšã‚¤ãƒ­ãƒ¼ãƒ‰ã‚’`{fid, payload}`å½¢å¼ã«ãƒ©ãƒƒãƒ”ãƒ³ã‚°ã€‚mobes2.0 Cloud Runã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆå®šæ•°è¿½åŠ ã€‚Issue #119ï¼ˆFIDæ¤œè¨¼ï¼‰è§£æ±ºæ¸ˆã¿ | Claude |
| 2026-01-11 | 1.8.0 | **Phase 3 å®Œäº†ï¼ˆ8/8ï¼‰**: T3-8 Summaryâ†’GrandSummaryçµ±åˆãƒ†ã‚¹ãƒˆå®Œäº†ã€‚IS22ã‹ã‚‰mobes2.0å…¨4APIï¼ˆConnect/IngestSummary/IngestEvent/GetConfigï¼‰æ­£å¸¸å‹•ä½œç¢ºèªã€‚types.rsã®to_headers()ã‚’Authorizationå½¢å¼ã«ä¿®æ­£ã€IS22ãƒ‡ãƒ—ãƒ­ã‚¤å®Œäº†ã€‚é€²æ—ç‡82%ã«å‘ä¸Š | Claude |
| 2026-01-11 | 1.9.0 | **Phase 5 å®Œäº†ï¼ˆ7/7ï¼‰**: BqSyncServiceå…¨ã‚¿ã‚¹ã‚¯å®Œäº†ã€‚bq_sync_service module (processor, bq_client, types)ã€bq_sync_routes.rs APIå®Ÿè£…ã€migration/024_bq_sync_extension.sqlã€‚éãƒ–ãƒ­ãƒƒã‚­ãƒ³ã‚°ãƒãƒƒãƒå‡¦ç†ã€PKãƒãƒƒãƒ—ã€å†ªç­‰æ€§ãƒã‚§ãƒƒã‚¯ã€retentioné€£æºã€ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯APIå®Ÿè£…ã€‚é€²æ—ç‡98%ã«å‘ä¸Š | Claude |
| 2026-01-11 | 2.0.0 | **ğŸ‰ Paraclateå®Ÿè£…100%å®Œäº†**: Phase 6 T6-9çµ±åˆãƒ†ã‚¹ãƒˆå®Œäº†ã€‚IS21ã‚µãƒ¼ãƒãƒ¼ï¼ˆ192.168.3.240:9000ï¼‰å…¨APIå‹•ä½œç¢ºèªã€‚/v1/analyzeæ¨è«–APIã€/api/hardwareã€/api/statusã€/v1/capabilitieså…¨ã¦æ­£å¸¸å‹•ä½œã€‚å…¨45ã‚¿ã‚¹ã‚¯å®Œäº†ã€é€²æ—ç‡100%é”æˆ | Claude |
